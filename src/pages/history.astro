---
import BaseLayout from '../layouts/BaseLayout.astro';
import { getCollection } from 'astro:content';
import HistoryPage from '../components/HistoryPage';

const allTimeline = await getCollection('aiTimeline');

// Convert timeline events to serializable format compatible with HistoryPage
const articles = allTimeline.map((event) => ({
  slug: event.slug,
  data: {
    title: event.data.title,
    description: event.data.description,
    date: event.data.date.toISOString(),
    category: event.data.category,
    tags: event.data.tags || [],
    locale: event.data.locale,
    technyanComment: event.data.technyanComment,
    impactLevel: event.data.impactLevel,
    relatedCompanies: event.data.relatedCompanies || [],
  },
}));
---

<BaseLayout
  title="AI Evolution History - Technyan's AI Digests"
  description="Explore the timeline of AI evolution from 2023 to 2025. View major milestones, paradigm shifts, and breakthroughs that transformed the world."
>
  <div class="container-custom py-12 md:py-20">
    <HistoryPage client:load articles={articles} />
  </div>
</BaseLayout>
